{
	"belongOrg": null,
	"content": "<![CDATA[<P>&nbsp;Linuxcrontab命令格式与详细例子<BR>Linux crontab 命令格式与详细例子 .<BR>分类： linux学习 2009-08-04 09:31 26759人阅读 评论(9) 收藏 举报 </P><P>基本格式 :<BR>*　　*　　*　　*　　*　　command<BR>分　时　日　月　周　命令 </P><P>第1列表示分钟1～59 每分钟用*或者 */1表示<BR>第2列表示小时1～23（0表示0点）<BR>第3列表示日期1～31<BR>第4列表示月份1～12<BR>第5列标识号星期0～6（0表示星期天）<BR>第6列要运行的命令 </P><P>crontab文件的一些例子： </P><P>30 21 * * * /usr/local/etc/rc.d/lighttpd restart<BR>上面的例子表示每晚的21:30重启apache。 </P><P>45 4 1,10,22 * * /usr/local/etc/rc.d/lighttpd restart<BR>上面的例子表示每月1、10、22日的4 : 45重启apache。 </P><P>10 1 * * 6,0 /usr/local/etc/rc.d/lighttpd restart<BR>上面的例子表示每周六、周日的1 : 10重启apache。 </P><P>0,30 18-23 * * * /usr/local/etc/rc.d/lighttpd restart<BR>上面的例子表示在每天18 : 00至23 : 00之间每隔30分钟重启apache。 </P><P>0 23 * * 6 /usr/local/etc/rc.d/lighttpd restart<BR>上面的例子表示每星期六的11 : 00 pm重启apache。 </P><P>* */1 * * * /usr/local/etc/rc.d/lighttpd restart<BR>每一小时重启apache </P><P>* 23-7/1 * * * /usr/local/etc/rc.d/lighttpd restart<BR>晚上11点到早上7点之间，每隔一小时重启apache </P><P>0 11 4 * mon-wed /usr/local/etc/rc.d/lighttpd restart<BR>每月的4号与每周一到周三的11点重启apache </P><P>0 4 1 jan * /usr/local/etc/rc.d/lighttpd restart<BR>一月一号的4点重启apache </P><P>&nbsp;</P><P>名称 : crontab </P><P>使用权限 : 所有使用者 </P><P>使用方式 : </P><P>crontab file [-u user]-用指定的文件替代目前的crontab。 </P><P>crontab-[-u user]-用标准输入替代目前的crontab. </P><P>crontab-1[user]-列出用户目前的crontab. </P><P>crontab-e[user]-编辑用户目前的crontab. </P><P>crontab-d[user]-删除用户目前的crontab. </P><P>crontab-c dir- 指定crontab的目录。 </P><P>crontab文件的格式：M H D m d cmd. </P><P>&nbsp;</P><P>M: 分钟（0-59）。 </P><P>H：小时（0-23）。 </P><P>D：天（1-31）。 </P><P>m: 月（1-12）。 </P><P>d: 一星期内的天（0~6，0为星期天）。 </P><P>cmd要运行的程序，程序被送入sh执行，这个shell只有USER,HOME,SHELL这三个环境变量 </P><P>说明 : </P><P>crontab 是用来让使用者在固定时间或固定间隔执行程序之用，换句话说，也就是类似使用者的时程表。-u user 是指设定指定 </P><P>user 的时程表，这个前提是你必须要有其权限(比如说是 root)才能够指定他人的时程表。如果不使用 -u user 的话，就是表示设 </P><P>定自己的时程表。 </P><P>&nbsp;</P><P>&nbsp;</P><P>参数 : </P><P>crontab -e : 执行文字编辑器来设定时程表，内定的文字编辑器是 VI，如果你想用别的文字编辑器，则请先设定 VISUAL 环境变数 </P><P>来指定使用那个文字编辑器(比如说 setenv VISUAL joe) </P><P>crontab -r : 删除目前的时程表 </P><P>crontab -l : 列出目前的时程表 </P><P>crontab file [-u user]-用指定的文件替代目前的crontab。 </P><P>时程表的格式如下 : </P><P>f1 f2 f3 f4 f5 program </P><P>其中 f1 是表示分钟，f2 表示小时，f3 表示一个月份中的第几日，f4 表示月份，f5 表示一个星期中的第几天。program 表示要执 </P><P>行的程序。 </P><P>当 f1 为 * 时表示每分钟都要执行 program，f2 为 * 时表示每小时都要执行程序，其馀类推 </P><P>当 f1 为 a-b 时表示从第 a 分钟到第 b 分钟这段时间内要执行，f2 为 a-b 时表示从第 a 到第 b 小时都要执行，其馀类推 </P><P>当 f1 为 */n 时表示每 n 分钟个时间间隔执行一次，f2 为 */n 表示每 n 小时个时间间隔执行一次，其馀类推 </P><P>当 f1 为 a, b, c,... 时表示第 a, b, c,... 分钟要执行，f2 为 a, b, c,... 时表示第 a, b, c...个小时要执行，其馀类推 </P><P>使用者也可以将所有的设定先存放在档案 file 中，用 crontab file 的方式来设定时程表。 </P><P>例子 : </P><P>#每天早上7点执行一次 /bin/ls : </P><P>0 7 * * * /bin/ls </P><P>在 12 月内, 每天的早上 6 点到 12 点中，每隔3个小时执行一次 /usr/bin/backup : </P><P>0 6-12/3 * 12 * /usr/bin/backup </P><P>周一到周五每天下午 5:00 寄一封信给 <A href=\"mailto:alex@domain.name\">alex@domain.name</A> : </P><P>0 17 * * 1-5 mail -s \"hi\" <A href=\"mailto:alex@domain.name\">alex@domain.name</A> &lt; /tmp/maildata </P><P>每月每天的午夜 0 点 20 分, 2 点 20 分, 4 点 20 分....执行 echo \"haha\" </P><P>20 0-23/2 * * * echo \"haha\" </P><P>注意 : </P><P>当程序在你所指定的时间执行后，系统会寄一封信给你，显示该程序执行的内容，若是你不希望收到这样的信，请在每一行空一格之 </P><P>后加上 &gt; /dev/null 2&gt;&amp;1 即可 </P><P>&nbsp;</P><P>例子2 : </P><P>#每天早上6点10分 </P><P>10 6 * * * date </P><P>#每两个小时 </P><P>0 */2 * * * date </P><P>#晚上11点到早上8点之间每两个小时，早上8点 </P><P>0 23-7/2，8 * * * date </P><P>#每个月的4号和每个礼拜的礼拜一到礼拜三的早上11点 </P><P>0 11 4 * mon-wed date </P><P>#1月份日早上4点 </P><P>0 4 1 jan * date </P><P>范例 </P><P>$crontab -l 列出用户目前的crontab. </P><P><BR>分享到： 上一篇：jni必备配置<BR></P>]]>",
	"copyID": null,
	"createBy": "sysUser731",
	"createOrg": null,
	"createTime": "2015-11-27 06:05:15",
	"deadTime": null,
	"dn": null,
	"evenID": null,
	"flag": null,
	"fullname": "湖南公共账号",
	"handInFlag": 0,
	"isClose": null,
	"isCopy": null,
	"isFinish": null,
	"isNew": 0,
	"knlDimension": 1,
	"knlID": 34656,
	"knlLevel": 1,
	"knlLevelName": "普通",
	"knlModule": "0",
	"knlModuleName": "经验案例",
	"knlProvKey": "731",
	"knlProvName": "湖南",
	"knlRemark": null,
	"knlResourceType": 121,
	"knlResourceTypeName": "客户感知业务",
	"knlSource": 6,
	"knlSourceName": "其他",
	"knlSysType": 114,
	"knlSysTypeName": "BASS系统",
	"knlTask": "99712",
	"knlType": 2,
	"knlTypeName": "日常运维类",
	"lastCheckTime": "2015-11-30 16:18:41",
	"lastChecker": "chenpp",
	"lastUpTime": "2015-11-27 06:05:15",
	"lastUpdateBy": null,
	"lastVisitTime": "2016-01-26 11:18:01",
	"lastVisitor": "guods",
	"originID": null,
	"problemID": null,
	"rankCount": 0,
	"replayFlag": 0,
	"score": 0,
	"searchScore": 0,
	"securityLevel": 0,
	"status": 2,
	"tag": null,
	"timeoutCount": 0,
	"title": "Linuxcrontab命令格式与详细例子",
	"url": null,
	"user": {
		"createBy": null,
		"createTime": "2014-03-03 14:21:06",
		"email": null,
		"fullname": "湖南公共账号",
		"id": "sysUser731",
		"job": null,
		"knlIDs": null,
		"lastLoginTime": "2014-03-03 14:21:06",
		"lastUpTime": null,
		"lastUpdateBy": null,
		"loginCount": null,
		"mobile": null,
		"oaId": "sysUser731",
		"oid": 6,
		"photo": "/config/images/qqshow2_girl.gif",
		"ppStatus": 0,
		"provIDs": null,
		"provId": "731",
		"provName": "湖南",
		"pwd": null,
		"pwd_history": null,
		"pwd_lastUpTime": null,
		"roleID": 2,
		"roleIDs": null,
		"roleName": "公共账号",
		"roleNames": null,
		"type": 2,
		"userKey": "sysUser731",
		"userStatus": 0,
		"username": "sysUser731"
	},
	"visitCount": 2709
}